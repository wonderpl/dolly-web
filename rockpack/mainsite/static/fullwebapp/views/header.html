<div ng-controller="HeaderCtrl" id="header" >
  <div id="topmenu">
    <div class="leftmenu">
      <div><a href="#/channels">Channels</a></div>
      <div>
        <form id="searchform" ng-submit="fetchresults()">
          <input type="text" placeholder="Search" id="searchfield" ng-model="searchPhrase" typeaheadMinLength="2" typeahead="result for result in searchresults($viewValue)" required typeahead-on-select="fetchresults()">
        </form>
      </div>
    </div>

    <div class="logo"><a href="#/feed"><img ng-src="/static/assets/fullwebapp/images/logo.png"></a></div>

    <div ng-switch on="isLoggedIn" class="rightmenu">
      <div ng-switch-when=true>
        <div><a href="#/channel/{{user.details.id}}"><img ng-src="/static/assets/fullwebapp/images/newChannelHeader.png"></a></div>
        <div class="userAvatar">
          <img ng-src="{{user.details.avatar_thumbnail_url}}" ng-click="userMenu = !userMenu">
          <div id="userMenuContainer" ng-show="userMenu" ng-click="userMenu = !userMenu">
            <div id="userMenuHeader">
              <img ng-src="{{user.details.avatar_thumbnail_url}}">
              <div class="userName">
                {{user.details.display_name}}
              </div>
              <img src="/static/assets/fullwebapp/images/settings.png" id="settings">
            </div>
            <div id="UserMenu">
              <div><a href="#/profile/{{user.details.id}}">My Channels</a></div>
              <div><a href="#/profile/{{user.details.id}}">My Subscriptions</a></div>
              <div>Friends</div>
              <div class="logout" ng-click="logout()">Logout</div>
            </div>
          </div>
        </div>
        <div ng-click="showNotifications()"><img src="/static/assets/fullwebapp/images/notifications.png"</div>
      </div>
      <div ng-switch-when=false>
        <div><a href="#/login/">Log In</a></div>
        <div><a href="#/register/">Register</a></div>
      </div>
    </div>
  </div>
</div>
